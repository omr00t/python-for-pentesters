import socket, sys
def tcp_scan(host):
    for port in range(1, 65536):
        try:
            with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
                s.settimeout(1)
                s.connect((host, port))
        except (ConnectionRefusedError, socket.timeout):
            pass
        else:
            print(f"{port}/tcp open")
if __name__ == "__main__":
    tcp_scan(sys.argv[1])
